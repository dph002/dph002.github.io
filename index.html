<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/09/hello-world/" class="article-date">
  <time datetime="2020-04-09T11:00:03.151Z" itemprop="datePublished">2020-04-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/09/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/04/09/hello-world/" data-id="ckdob4pv7000n3wv0h8c572fa" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-一些python模块" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/25/%E4%B8%80%E4%BA%9Bpython%E6%A8%A1%E5%9D%97/" class="article-date">
  <time datetime="2019-11-25T13:52:00.000Z" itemprop="datePublished">2019-11-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/25/%E4%B8%80%E4%BA%9Bpython%E6%A8%A1%E5%9D%97/">一些python模块</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="MS-Visio-file-vsd-vsdx-to-images-converter"><a href="#MS-Visio-file-vsd-vsdx-to-images-converter" class="headerlink" title="MS-Visio file (.vsd, .vsdx) to images converter"></a>MS-Visio file (.vsd, .vsdx) to images converter</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install visio2img</span><br></pre></td></tr></table></figure>
<h1 id="python-pptx"><a href="#python-pptx" class="headerlink" title="python-pptx"></a>python-pptx</h1><ul>
<li>How to set image auto center</li>
</ul>
        
          <p class="article-more-link">
            <a href="/2019/11/25/%E4%B8%80%E4%BA%9Bpython%E6%A8%A1%E5%9D%97/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/11/25/%E4%B8%80%E4%BA%9Bpython%E6%A8%A1%E5%9D%97/" data-id="ckdob4pvq001a3wv0fup1839a" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-WSL-ubuntu系统设置" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/25/WSL-ubuntu%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE/" class="article-date">
  <time datetime="2019-11-25T01:14:49.000Z" itemprop="datePublished">2019-11-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/25/WSL-ubuntu%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE/">WSL ubuntu系统设置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="windows-WSL-ubuntu子系统"><a href="#windows-WSL-ubuntu子系统" class="headerlink" title="windows WSL ubuntu子系统"></a>windows WSL ubuntu子系统</h1><p>清华源</p>
        
          <p class="article-more-link">
            <a href="/2019/11/25/WSL-ubuntu%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/11/25/WSL-ubuntu%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE/" data-id="ckdob4pv1000g3wv09ook3hzr" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-opencv" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/22/opencv/" class="article-date">
  <time datetime="2019-11-22T13:10:24.000Z" itemprop="datePublished">2019-11-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/22/opencv/">opencv</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="opencv-中-SIFT尺度不变算法可用的版本"><a href="#opencv-中-SIFT尺度不变算法可用的版本" class="headerlink" title="opencv 中 SIFT尺度不变算法可用的版本"></a>opencv 中 SIFT尺度不变算法可用的版本</h1><p>我的解决方法是：先卸载opencv，再将opencv版本改为3.4.2。</p>
<p> <strong>pip install opencv-python==3.4.2.16</strong></p>
<p> <strong>pip install opencv-contrib-python==3.4.2.16</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/11/22/opencv/" data-id="ckdob4pvm00143wv00nixg4gx" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Using GDAL with Python a basic introduction" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/05/Using%20GDAL%20with%20Python%20a%20basic%20introduction/" class="article-date">
  <time datetime="2019-07-05T07:52:49.000Z" itemprop="datePublished">2019-07-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/05/Using%20GDAL%20with%20Python%20a%20basic%20introduction/">Using GDAL with Python</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>ref:<a href="http://blog.remotesensing.io/2013/03/using-gdal-with-python-basic-intro/" target="_blank" rel="noopener">引自</a></p>
<h2 id="Using-GDAL-with-Python-a-basic-introduction"><a href="#Using-GDAL-with-Python-a-basic-introduction" class="headerlink" title="Using GDAL with Python: a basic introduction"></a>Using GDAL with Python: a basic introduction</h2><p>​         14 Mar 2013       </p>
<p>​     </p>
<p>Using GDAL with Python opens up a lot of flexibility in raster processing. By converting your raster data into a <a href="http://www.numpy.org/" target="_blank" rel="noopener">NumPy</a> array, you can make use of all Python’s array operations.</p>
<p><code>&lt;!--more--&gt;</code></p>
<p>So in this very simple example, I will convert a single band georeferenced raster (GeoTiff), to a 2D NumPy array, and back again. Once the raster has been read in as an array, any raster operations are possible.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> osgeo <span class="keyword">import</span> gdal</span><br><span class="line">    <span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Read the input raster into a Numpy array</span></span><br><span class="line">    infile = <span class="string">"inputfile.tif"</span></span><br><span class="line">    data   = gdal.Open(infile)</span><br><span class="line">    arr    = data.ReadAsArray()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Do some processing....</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Save out to a GeoTiff</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># First of all, gather some information from the original file</span></span><br><span class="line">    [cols,rows] = arr.shape</span><br><span class="line">    trans       = data.GetGeoTransform()</span><br><span class="line">    proj        = data.GetProjection()</span><br><span class="line">    nodatav     = data.GetNoDataValue()</span><br><span class="line">    outfile     = <span class="string">"outputfile.tif"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Create the file, using the information from the original file</span></span><br><span class="line">    outdriver = gdal.GetDriverByName(<span class="string">"GTiff"</span>)</span><br><span class="line">    outdata   = outdriver.Create(str(outfile), rows, cols, <span class="number">1</span>, gdal.GDT_Float32)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Write the array to the file, which is the original array in this example</span></span><br><span class="line">    outdata.GetRasterBand(<span class="number">1</span>).WriteArray(arr)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Set a no data value if required</span></span><br><span class="line">    outdata.GetRasterBand(<span class="number">1</span>).SetNoDataValue(nodatav)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Georeference the image</span></span><br><span class="line">    outdata.SetGeoTransform(trans)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Write projection information</span></span><br><span class="line">    outdata.SetProjection(proj)</span><br></pre></td></tr></table></figure>



<h2 id="图像浮点改成rgb制图"><a href="#图像浮点改成rgb制图" class="headerlink" title="图像浮点改成rgb制图"></a>图像浮点改成rgb制图</h2><p>gdal_translate ，可以把原始数据进行波段变换，比如把float的数据按指定的范围变换到Byte,形成彩色图像。</p>
<p>下面是去6,5,2三个通道，把原始数据0-19的数据范围，变换到0-255</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdal_translate -ot Byte -b 6 -scale 0 19 0 255 -b 5 -b 2 D:\OCT2\map\H1C_OPER_OCT_L1A_20190118T161500_20190118T162000_01921_10_test.tif b.tif</span><br></pre></td></tr></table></figure>



<p>也可以单独设置每个通道的变换范围，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdal_translate -ot Byte -b 6 -scale 0 19 0 255 -b 5 -scale 0 19 0 255  -b 2 -scale 0 19 0 255 D:\OCT2\map\H1C_OPER_OCT_L1A_20190118T161500_20190118T162000_01921_10_test.tif b.tif</span><br></pre></td></tr></table></figure>

<h2 id="改变图像分辨率"><a href="#改变图像分辨率" class="headerlink" title="改变图像分辨率"></a>改变图像分辨率</h2><p>gdal_translate</p>
<p>-outsize 输出范围，格式 xsize,ysize。如果有%，则按百分比输出。计算输入前后的分辨率比值，由此计算出输出文件的大小。通过文件大小控制分辨率。注意：虽然像素数目和%可能产生相同的输出，但有时因为精度问题，可能会有不同（像素大小）。</p>
<h2 id="2-4-格式转换（可用于合成）"><a href="#2-4-格式转换（可用于合成）" class="headerlink" title="2.4 格式转换（可用于合成）"></a>2.4 格式转换（可用于合成）</h2><p>目的：改变原始图像的格式。</p>
<p>原理：读取原始图像数据，复制到目标文件格式中（可能需要重采样，只能使用nearest）。</p>
<p>方法：gdal_translate</p>
<p>-of 输出格式，默认GTiff。可以修改为所有GDAL支持的格式</p>
<p>-co create option。每种格式都有规定的co，需要查看格式说明。如：JPEG格式，可以使用WORLDFILE=YES（生成worldfile文 件），QUALITY=75（设置压缩率，默认是75%，只能取10~100范围的值，&gt;95无法提高质量，但会增大文件）。</p>
<p>效率很高。</p>
<p>示例：</p>
<p>gdal_translate -of GTiff j50c.vrt translate.tif</p>
<p>gdal_translate -of JPEG j50c4.vrt translatejpeg.jpg</p>
<p>gdal_translate -of JPEG -co WORLDFILE=YES -coQUALITY=75 j50c4.vrt</p>
<p> translatejpeg75.jpg</p>
<h2 id="2-5-转换为JPEG"><a href="#2-5-转换为JPEG" class="headerlink" title="2.5 转换为JPEG"></a>2.5 转换为JPEG</h2><p>目的：将其它格式转换为JPEG的RGB格式。</p>
<p>原理：指定源数据的波段与目标JPEG的对应波段。</p>
<p>方法：gdal_translate</p>
<p>-b n:指定第几个波段对应的源数据波段数n。可以有多个。如果不指定，默认情况下是一一对应。</p>
<p>示例：将四波段RGBA的tif转换成JPEG RGB。</p>
<p>gdal_translate -of JPEG -b 1 -b 2 -b 3 source.tiftest.jpg</p>
<p>默认情况下：gdal_translate -of JPEG source.tif test.jpg 等效于 gdal_translate-of JPEG -b 1 -b 2 -b 3 -b 4 source.tif test.jpg，都是将RGBA转换为JPEG中，使用四个4BYTES存储一个像素，会被当作CMYK处理。</p>
<p>参考：<a href="http://osdir.com/ml/gdal-development-gis-osgeo/2014-06/msg00046.html" target="_blank" rel="noopener">http://osdir.com/ml/gdal-development-gis-osgeo/2014-06/msg00046.html</a></p>
<h2 id="2-6-定义坐标系统（不能进行投影变换，只能定义）"><a href="#2-6-定义坐标系统（不能进行投影变换，只能定义）" class="headerlink" title="2.6 定义坐标系统（不能进行投影变换，只能定义）"></a>2.6 定义坐标系统（不能进行投影变换，只能定义）</h2><p>目的：为源图像指定坐标系统。</p>
<p>原理：重新定义源图像的坐标系统（不能变换，只能定义，不改变图像值）。</p>
<p>方法：gdal_translate</p>
<p>-a_srs assign srs指定的坐标系统。</p>
<p>示例：</p>
<p>gdal_translate -a_srs EPSG:32650 -of GTiff J50_lonlat-L12.tif j50-2.tif</p>
<h2 id="重投影图像到更大的地理坐标范围"><a href="#重投影图像到更大的地理坐标范围" class="headerlink" title="重投影图像到更大的地理坐标范围"></a>重投影图像到更大的地理坐标范围</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdalwarp -overwrite -t_srs EPSG:4326 -te -102 0 -50 30 D:\OCT2\map\B.tif  e.tif</span><br></pre></td></tr></table></figure>

<p>上面还可以用 -ts 4000 2000 设置图像的大小</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/07/05/Using%20GDAL%20with%20Python%20a%20basic%20introduction/" data-id="ckdob4pv0000f3wv0gkg00k46" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Dealing-with-no-data-using-NumPy-masked-array-operations" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/05/Dealing-with-no-data-using-NumPy-masked-array-operations/" class="article-date">
  <time datetime="2019-07-05T07:51:20.000Z" itemprop="datePublished">2019-07-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/05/Dealing-with-no-data-using-NumPy-masked-array-operations/">Dealing with no data using NumPy masked array operations</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Dealing-with-no-data-using-NumPy-masked-array-operations"><a href="#Dealing-with-no-data-using-NumPy-masked-array-operations" class="headerlink" title="Dealing with no data using NumPy masked array operations"></a><a href="">Dealing with no data using NumPy masked array operations</a></h2><p>​          15 May 2013         </p>
<p><a href="http://blog.remotesensing.io/2013/05/Dealing-with-no-data-using-NumPy-masked-array-operations#more" target="_blank" rel="noopener">引自</a></p>
<p>Remotely sensed data can be riddled with no data (or null) values. Take this grid of sea surface chlorophyll A (CHLa) concentration for example, which represents 8 days worth of repeat observations and still has lots of big data gaps (shown in black). With products such as these that use optical data as their input, cloud cover is always going to be a problem.</p>
<p><a href=""><img src="picture/chla_8day_2013.png" alt="CHLa concentration"></a> <em>Aqua MODIS CHLa concentration, 8 day composite, 01/01/2013 - 08/01/2013</em> <em>([oceancolor.gsfc.nasa.gov])</em></p>
<p>If you wanted to do any raster processing with this data, identifying no data gaps as invalid is essential. And if you’re creating your own processing scripts, it can become problematic.</p>
<p>You could simply build in conditions to ignore this number. However, I find a much nicer way to deal with no data if using Python, is with <a href="http://docs.scipy.org/doc/numpy/reference/maskedarray.html" target="_blank" rel="noopener">NumPys masked array operations</a>. They lend themselves really well to remote sensing analysis. With a basic example, here’s how this can work.</p>
<p>(Please assume all my one dimensional arrays here are actually two dimensional and represent raster values! Of course you first need to <a href="http://blog.remotesensing.io/2013/03/using-gdal-with-python-basic-intro/" target="_blank" rel="noopener">convert your raster into a NumPy array</a>.)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line">    &gt;&gt;&gt;</span><br><span class="line">    &gt;&gt;&gt; x = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">99</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">99</span>])</span><br><span class="line">    &gt;&gt;&gt; y = numpy.ma.masked_values(x, <span class="number">99</span>)</span><br><span class="line">    &gt;&gt;&gt; y.mask</span><br><span class="line">    array([<span class="literal">False</span>, <span class="literal">False</span>, <span class="literal">False</span>,  <span class="literal">True</span>, <span class="literal">False</span>, <span class="literal">False</span>,  <span class="literal">True</span>], dtype=bool)</span><br><span class="line">    &gt;&gt;&gt; y.data</span><br><span class="line">    array([ <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>, <span class="number">99</span>,  <span class="number">5</span>,  <span class="number">6</span>, <span class="number">99</span>])</span><br><span class="line">    &gt;&gt;&gt; y</span><br><span class="line">    masked_array(data = [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> -- <span class="number">5</span> <span class="number">6</span> --],</span><br><span class="line">           mask = [<span class="literal">False</span> <span class="literal">False</span> <span class="literal">False</span>  <span class="literal">True</span> <span class="literal">False</span> <span class="literal">False</span>  <span class="literal">True</span>],</span><br><span class="line">     fill_value = <span class="number">99</span>)</span><br></pre></td></tr></table></figure>

<p>If you want to visually display where your no data cells are in a GIS, you can easily change the mask into an integer array and then save it out in a visual format.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>intarray = y.mask.astype(int)</span><br><span class="line">    &gt;&gt;&gt; intarray</span><br><span class="line">    array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>])</span><br></pre></td></tr></table></figure>

<p>Equally powerful, if you already have a mask raster, you can build the mask and the data part of the masked array yourself.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>t = ma.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>], mask=[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>])</span><br><span class="line">    &gt;&gt;&gt; t</span><br><span class="line">    masked_array(data = [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> --],</span><br><span class="line">                 mask = [<span class="literal">False</span> <span class="literal">False</span> <span class="literal">False</span> <span class="literal">False</span>  <span class="literal">True</span>],</span><br><span class="line">           fill_value = <span class="number">999999</span>)</span><br></pre></td></tr></table></figure>

<p>Once you have assigned your masked array, there are a number of other methods which can be applied, for example:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>y.mean()</span><br><span class="line">    <span class="number">3.4</span></span><br><span class="line">    &gt;&gt;&gt; y.max()</span><br><span class="line">    <span class="number">6</span></span><br><span class="line">    &gt;&gt;&gt; y.sum()</span><br><span class="line">    <span class="number">17</span></span><br></pre></td></tr></table></figure>

<p>These are basic operations only. The <a href="http://docs.scipy.org/doc/numpy/reference/routines.ma.html#" target="_blank" rel="noopener">documentation for masked array operations</a> shows the range of possibilities. I’ve used masked arrays very frequently when developing bespoke raster processing scripts.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/07/05/Dealing-with-no-data-using-NumPy-masked-array-operations/" data-id="ckdob4pua00033wv006uehxyh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="&#39;dealing-operations" class="article article-type-&#39;dealing" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/05/operations/" class="article-date">
  <time datetime="2019-07-05T07:51:04.000Z" itemprop="datePublished">2019-07-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/05/operations/">operations&#39;</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/07/05/operations/" data-id="ckdob4pvo00163wv01yxu6pk7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-常用网站" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/26/%E5%B8%B8%E7%94%A8%E7%BD%91%E7%AB%99/" class="article-date">
  <time datetime="2019-06-26T07:54:10.000Z" itemprop="datePublished">2019-06-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/26/%E5%B8%B8%E7%94%A8%E7%BD%91%E7%AB%99/">常用网站</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://planetpython.org/" target="_blank" rel="noopener">planetpython</a></p>
<p><a href="blog.rtwilson.com">大气辐射传输py6s</a></p>
<p><a href="https://planet.scipy.org/" target="_blank" rel="noopener">PLanet SciPy</a></p>
<p><a href="http://blog.rtwilson.com/blogroll/" target="_blank" rel="noopener">blogroll</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/06/26/%E5%B8%B8%E7%94%A8%E7%BD%91%E7%AB%99/" data-id="ckdob4pvy001g3wv0cxl53xmc" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-遥感的预设条件" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/26/%E9%81%A5%E6%84%9F%E7%9A%84%E9%A2%84%E8%AE%BE%E6%9D%A1%E4%BB%B6/" class="article-date">
  <time datetime="2019-06-26T07:48:33.000Z" itemprop="datePublished">2019-06-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/26/%E9%81%A5%E6%84%9F%E7%9A%84%E9%A2%84%E8%AE%BE%E6%9D%A1%E4%BB%B6/">遥感的预设条件</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://blog.rtwilson.com/assumptions-in-remote-sensing/" target="_blank" rel="noopener">from</a></p>
<h2 id="Assumptions-in-Remote-Sensing"><a href="#Assumptions-in-Remote-Sensing" class="headerlink" title="Assumptions in Remote Sensing"></a>Assumptions in Remote Sensing</h2><p>May 17, 2018</p>
<p><em>Back in 2012, I wrote the following editorial for SENSED, the magazine of the Remote Sensing and Photogrammetry Society. I found it recently while looking through back issues, and thought it deserved a wider audience, as it is still very relevant. I’ve made a few updates to the text, but it is mostly as published.</em></p>
<p>In this editorial, I’d like to delve a bit deeper into our subject, and talk about the assumptions that we all make when doing our work.</p>
<p>In a paper written almost twenty years ago, Duggin and Robinove produced a list of assumptions which they thought were implicit in most remote sensing analyses. These were:</p>
<ol>
<li><em>There is a very high degree of correlation between the surface attributes of interest, the optical properties of the surface, and the data in the image.</em></li>
<li><em>The radiometric calibration of the sensor is known for each pixel.</em></li>
<li><em>The atmosphere does not affect the correlation (see 1 above), or the atmospheric correction perfectly corrects for this.</em></li>
<li><em>The sensor spatial response characteristics are accurately known at the time of image acquisition.</em></li>
<li><em>The sensor spectral response and calibration characteristics are accurately known at the time of image acquisition.</em></li>
<li><em>Image acquisition conditions were adequate to provide good radiometric contrast between the features of interest and the background.</em></li>
<li><em>The scale of the image is appropriate to detect and quantify the features of interest.</em></li>
<li><em>The correlation (see 1 above) is invariant across the image.</em></li>
<li><em>The analytical methods used are appropriate and adequate to the task.</em></li>
<li><em>The imagery is analysed at the appropriate scale</em></li>
<li><em>There is a method of verifying the accuracy with which ground attributes have been determined, and this method is uniformly sensitive across the image.</em></li>
</ol>
<p>These all come from the following paper, in which there is a far more detailed discussion of each of these: Duggin and Robinove, 1990, <a href="https://www.tandfonline.com/doi/abs/10.1080/01431169008955124" target="_blank" rel="noopener">Assumptions implicit in remote sensing data acquisition and analysis</a>, <em>International Journal of Remote Sensing</em>, 11:10, p1669.</p>
<p>I firmly believe that now is a very important time to start examining this list more closely. We are in an era when products are being produced routinely from satellites: end-user products such as land-cover maps, but also products designed to be used by the remote sensing community, such as atmospherically-corrected surface reflectance products. Similarly, GUI-based ‘one-click’ software is being produced which purports to perform very complicated processing, such as atmospheric correction or vegetation canopy modelling, very easily.</p>
<p>My question to you, as scientists and practitioners in the field is: <strong>Have you stopped to examine the assumptions underlying the products you use?</strong>, and even if you’re not using products such as those above, <strong>have you looked at your analysis to see whether it really stands up to a scrutiny of its assumptions?</strong></p>
<p>I suspect the answer is no – it certainly was for me until recently. There is a great temptation to use satellite-derived products without really looking into how they are produced and the assumptions that may have been made in their production process (seriously, read the Algorithm Theoretical Basis Document!). Ask yourself, <strong>are those assumptions valid for your particular use of the data?</strong></p>
<p>Looking at the list of assumptions above, I can see a number which are very problematic. Number 8 is one that I have struggled with myself – how do I know whether the correlation between the ground data of interest and the image data is uniform across the image. I suspect it isn’t – but I’d need a lot of ground data to test it, and even then, what could I do about it? Of course, number 11 causes lots of problems for validation studies too. Number 4 and 5 are primarily related to the calibration of the sensors, which is normally managed by the operators themselves. We might not be able to do anything about it – but have we considered it, particularly when using older and therefore less well-calibrated data?</p>
<p>As a relatively young member of the field, it may seem like I’m ‘teaching my grandparents to suck eggs’, and I’m sure this is familiar to many of you. Those of you who have been in the field a while have probably read the paper – more recent entrants may not have done so. Regardless of experience, I think we could all do with thinking these through a bit more. So on go, have a read of the list above, maybe read the paper, and have a think about your last project: <strong>were your assumptions valid?</strong></p>
<p><em>I’m interested in doing some more detailed work on the Duggin and Robinove paper, possibly leading to a new paper revisiting their assumptions in the modern era of remote sensing. If you’re interested in collaborating with me on this then please get in touch via <a href="mailto:robin@rtwilson.com" target="_blank" rel="noopener">robin@rtwilson.com</a>.</em></p>
<hr>
<p>​                   </p>
<p><strong>Categorised as:</strong> <a href="http://blog.rtwilson.com/category/academic/" target="_blank" rel="noopener">Academic</a>, <a href="http://blog.rtwilson.com/category/academic/remote-sensing/" target="_blank" rel="noopener">Remote Sensing</a> </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/06/26/%E9%81%A5%E6%84%9F%E7%9A%84%E9%A2%84%E8%AE%BE%E6%9D%A1%E4%BB%B6/" data-id="ckdob4pw2001l3wv04qy66ezc" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Py6SforAtmosCorrect" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/26/Py6SforAtmosCorrect/" class="article-date">
  <time datetime="2019-06-26T07:44:33.000Z" itemprop="datePublished">2019-06-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/26/Py6SforAtmosCorrect/">Py6SforAtmosCorrect</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>from <a href="http://blog.rtwilson.com/" target="_blank" rel="noopener">Robin’s Blog</a></p>
<p><a href="http://blog.rtwilson.com/can-i-atmospherically-correct-my-images-with-py6s/" target="_blank" rel="noopener">http://blog.rtwilson.com/can-i-atmospherically-correct-my-images-with-py6s/</a></p>
<h2 id="Can-I-atmospherically-correct-my-images-with-Py6S"><a href="#Can-I-atmospherically-correct-my-images-with-Py6S" class="headerlink" title="Can I atmospherically-correct my images with Py6S?"></a>Can I atmospherically-correct my images with Py6S?</h2><p>March 3, 2013</p>
<p>I’m a big fan of <a href="http://matt.might.net/#blog" target="_blank" rel="noopener">Matt Might’s blog</a>, and thought I’d implement one of his tips for blogging as an academic – namely <a href="http://matt.might.net/articles/how-to-blog-as-an-academic/" target="_blank" rel="noopener"><em>Reply to Public</em></a>. I’ve had a number of emails from Py6S users asking me questions about how to atmospherically-correct entire satellite images with Py6S – so I thought ‘d respond online, so that in the future people either find this response without needing to email me (ideally), or at the very least, I can point them to this blog post when they do email me.</p>
<p>Unfortunately, the simple answer to the question is: <strong>Py6S cannot (yet!) atmospherically correct satellite images – at least, not in a sensible manner – so I’d suggest using other atmospheric correction software such as ATCOR or FLAASH.</strong> The longer answer is below…</p>
<p>If you read the <a href="http://py6s.readthedocs.org/en/latest/" target="_blank" rel="noopener">Py6S documentation</a> you’ll find that there is an atmospheric correction option which you can use to take an at-sensor radiance (often called a Top of Atmosphere radiance when you’re dealing with satellite sensors) and atmospherically-correct it to get a corrected surface reflectance (or radiance) value. You could write some code to do that – it might look a bit like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`from` `Py6S ``import` `*``# Create a SixS object called s``# (used as the standard name by convention)``s ``=` `SixS()` `# Set the atmospheric conditions as usual``s.aero_profile ``=` `AeroProfile.PredefinedType(AeroProfile.Maritime)``s.aot550 ``=` `0.05``s.atmos_profile ``=` `AtmosProfile.UserWaterAndOzone(``2``, ``0.318``)` `# Set the wavelength``s.wavelength``=``Wavelength(PredefinedWavelengths.MODIS_B6)` `# Set the altitudes``s.altitudes.set_target_sea_level()``s.altitudes.set_sensor_satellite_level()` `# Set the geometry``s.geometry ``=` `Geometry.User()``s.geometry.solar_z``=` `35.8``s.geometry.solar_a``=` `149.4``s.geometry.view_z``=` `5.1``s.geometry.view_a``=` `106.8``s.geometry.month``=``06``s.geometry.date``=``28` `# Turn on atmospheric correction mode and set it to do the``# correction assuming a Lambertian surface with a TOA``# radiance of 137.5 W/m^2``s.atmos_corr ``=` `AtmosCorr.AtmosCorrLambertianFromRadiance(``137.5``)   ` `# Run the model``s.run()` `# Print the result of the atmospheric correction``# (assuming Lambertian reflectance)``# This is the ground-reflectance for the given radiance,``# under the given atmospheric conditions``print` `s.outputs.atmos_corrected_reflectance_lambertian`</span><br></pre></td></tr></table></figure>



<p>This works fine, and so you might think that all you need to do to correct a satellite image is to take the code above, and run it for each pixel of the image using a for loop, as in the pseudo-code below:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`# Load in the image (eg. using GDAL)` `for` `pixel ``in` `image:``    ``reflectance ``=` `run_py6s(various, parameters, here)` `    ``# Store reflectance in the output image` `# Save output image`</span><br></pre></td></tr></table></figure>



<p>Unfortunately, that won’t work very well. Or rather, it will work – it’ll just take a <strong>long</strong> time! Let’s do some maths to work out roughly how long:</p>
<ul>
<li>As a rough approximation, it takes Py6S around two seconds to atmospherically correct a single pixel in a single band (the exact time depends on how complicated the parameterisation is – for example, a full manual AERONET-based aerosol parameterisation will take longer than a standard aerosol model)</li>
<li>A full Landsat scene is roughly 5500 x 6000 pixels (170km x 185km), which is around 33 million pixels</li>
<li>33 million pixels x 2 seconds per pixel = 66 million seconds, or 763 days!</li>
<li>If I started running this now – on <strong>one band</strong> of a Landsat scene – it’d be finished around April 2015. Even if I used a simple parameterisation that only took one second per pixel, it’d still take over a year!</li>
</ul>
<p>Now, I suspect you’re now thinking the Py6S is really awful because it takes such a long time. Well, unfortunately it’s not down to Py6S (if it was, I could try and improve it!). In fact, the Python bit of Py6S adds very little time  – the vast majority of the time is taken by 6S itself.</p>
<p>So, maybe it’s 6S that is rubbish. Well, again, unfortunately not, or we could switch to something that is better. All other Radiative Transfer Models, such as MODTRAN, SCIATRAN etc, suffer from the same problem.</p>
<p><strong>So, how on earth do people manage to correct satellite images?</strong> Obviously people have managed to do it – and there is commercial software available to do it. Well, they use something called a <strong>Lookup Table (LUT)</strong>. This involves running the Radiative Transfer Model many times to produce a table of results, and then looking up the result you want in this table. Creating the table takes a long time (but nowhere near as long as 763 days!) and it often takes a lot of space to store the resulting table (for example, the Lookup Table used in ATCOR is a multi-Gigabyte file), but once you’ve got the table you can correct a pixel in a tiny fraction of a second – rather than one or two seconds – which means the correction of an image is a lot quicker. </p>
<p>A lookup table is a good example of two standard trade-offs in computing:</p>
<ul>
<li><strong>Setup time vs Run time:</strong> Often algorithms can either be designed to have a very short (or no) setup time, but then take a long time to run; or they can be designed to have a long setup phase, and then run very quickly from then onwards. Often the decision of which one to focus on depends on how often you’re going to run your process – if you want to run it multiple times (like an atmospheric correction algorithm) then it is normally better to have a long setup time (which you only have to do once!) and then a short run time.</li>
<li><strong>Memory vs Time:</strong> Again, algorithms often trade speed against memory – a fast algorithm normally requires more memory, and vice-versa. In this case, a Lookup Table trades speed for memory – we have to store the Lookup Table in memory, but once we have access to it, we can do corrections very fast.</li>
</ul>
<p>I haven’t written any code to use Py6S to create a lookup table and then use that to correct an image (although I will almost certainly write some code to do this sometime during my PhD) – but it wouldn’t be too difficult to do. The procedure would be something like the following:</p>
<p><strong>Setup Phase:</strong></p>
<ol>
<li>Come up with a list of parameter values for all of the important parameters – choosing a number of parameters across their realistic range (there is a trade-off between accuracy and speed here, as always). For example maybe: AOT = [0.1, 0.2, 0.3, 0.4…]; solar_z = [10, 20, 30, 40, 50…]; radiance = [10, 20, 30, 40, 50, 60, 70] etc.</li>
<li>Write some code to loop over all of these lists and run every possible combination of them</li>
<li>Store the result of all of these runs of Py6S (ie. the atmospherically-corrected reflectance) and the parameters used to get the result in a big table of some sort.</li>
</ol>
<p><strong>Correction Phase:</strong></p>
<p>Loop through every pixel in the image, and for each pixel:</p>
<ol>
<li>Get the parameters (AOT, angles, radiance etc) for that pixel</li>
<li>Choose the nearest parameters that were used to create results in the table (for ALL of the parameters you used)</li>
<li>Interpolate between these parameters as needed (eg. for an AOT of 0.15, get the results for an AOT of 0.1 and and AOT of 0.2 and interpolate) to get an interpolated ground reflectance.</li>
<li>Store this reflectance in another image.</li>
</ol>
<p>This basic procedure has been used in almost all atmospheric correction tools for the last thirty years, and is described in various papers including Fraser et al. (1992) and Liang et al. (1997). Another way to speed-up the computation even more is by introducing parallel computation. If we can assume that each pixel’s atmospheric correction is entirely independent from every other pixel’s (which may not be the case in the real-world, but is generally assumed by most atmospheric correction algorithms) then we can split the pixels between a number of processors and thus correct many pixels in parallel – which gets an even greater speedup as we can do this both when generating the LUT, and when correcting the image.</p>
<p>Unfortunately, actually implementing this is a bit more complicated than I’ve explained here and various decisions have to be taken (including what ranges of parameters to use, how to interpolate, how best to store the multi-dimensional lookup table and more…) – but it is definitely on my ‘to do’ list as part of my PhD, and as part of Py6S.</p>
<p>So, in conclusion: Py6S can’t do atmospheric correction of satellite imagery in a sensible time at the moment, but should be able to within the next few years. In the meantime, I suggest using other atmospheric correction software (most of which, unfortunately, is commercial software). You may think that not being able to do this makes Py6S useless…but, as my next post will show, Py6S is still very useful for remote-sensing research.</p>
<p><strong>References</strong></p>
<p>Fallah-Adl, Hassan, et al. “Fast algorithms for removing atmospheric effects from satellite images.” <em>Computational Science &amp; Engineering, IEEE</em> 3.2 (1996): 66-77.</p>
<p>Fraser, R. S., Ferrare, R. A., Kaufman, Y. J., Markham, B. L., &amp; Mattoo, S. (1992). Algorithm for atmospheric corrections of aircraft and satellite imagery.<em>International Journal of Remote Sensing</em>, <em>13</em>(3), 541-557.</p>
<p>Liang, Shunlin, et al. “An operational atmospheric correction algorithm for Landsat Thematic Mapper imagery over the land.” <em>Journal of Geophysical Research</em> 102.D14 (1997): 17173-17.</p>
<hr>
<p>​                   </p>
<p><strong>Categorised as:</strong> <a href="http://blog.rtwilson.com/category/academic/" target="_blank" rel="noopener">Academic</a>, <a href="http://blog.rtwilson.com/category/my-software/" target="_blank" rel="noopener">My Software</a>, <a href="http://blog.rtwilson.com/category/programming-2/" target="_blank" rel="noopener">Programming</a>, <a href="http://blog.rtwilson.com/category/my-software/py6s/" target="_blank" rel="noopener">Py6S</a>, <a href="http://blog.rtwilson.com/category/programming-2/python/" target="_blank" rel="noopener">Python</a>, <a href="http://blog.rtwilson.com/category/academic/remote-sensing/" target="_blank" rel="noopener">Remote Sensin</a></p>
<h3 id="5-Comments"><a href="#5-Comments" class="headerlink" title="5 Comments"></a>5 Comments</h3><ol>
<li><p><img src="http://0.gravatar.com/avatar/3907c2c2d4f62631aedb7fe43d829d6e?s=140&d=identicon&r=g" alt="img">            Theophilus says:        </p>
<p><a href="http://blog.rtwilson.com/can-i-atmospherically-correct-my-images-with-py6s/#comment-152220" target="_blank" rel="noopener">             July 24, 2015 at 5:04 am                </a>                         </p>
<p>Hi Robin,</p>
<p>Thanks so much for this powerful explanation. Any idea or example guide on how to implement landsat 8 atmospheric correction using LUT approach?</p>
</li>
<li><p><img src="http://2.gravatar.com/avatar/b5315e9d0420a5546727a9f4f04010b6?s=140&d=identicon&r=g" alt="img">            <a href="http://www.rtwilson.com/" target="_blank" rel="noopener">Robin Wilson</a> says:        </p>
<p><a href="http://blog.rtwilson.com/can-i-atmospherically-correct-my-images-with-py6s/#comment-152352" target="_blank" rel="noopener">             July 25, 2015 at 8:58 am                </a>                         </p>
<p>Hi,</p>
<p>Probably the best approach is using ARCSI written by Pete Bunting, which uses Py6S internally. Have a look at <a href="https://spectraldifferences.wordpress.com/2014/05/27/arcsi/" target="_blank" rel="noopener">https://spectraldifferences.wordpress.com/2014/05/27/arcsi/</a>.</p>
<p>Cheers,</p>
<p>Robin</p>
</li>
<li><p><img src="http://2.gravatar.com/avatar/85c0742ad1a7e18ed4095f85f14cfd1a?s=140&d=identicon&r=g" alt="img">            <a href="https://github.com/dgketchum" target="_blank" rel="noopener">David Ketchum</a> says:        </p>
<p><a href="http://blog.rtwilson.com/can-i-atmospherically-correct-my-images-with-py6s/#comment-196580" target="_blank" rel="noopener">             June 16, 2017 at 11:13 pm                </a>                         </p>
<p>I was looking at the code on github thinking “I wish there was a good example of this” and viola!  Thanks for the insights.<br>One thing that may be worth looking into is Tasumi (2008), which describes a simple method for atm correction for use on Landsat and MODIS images before running them in evapotranspiration algorithms.</p>
</li>
<li><p><img src="http://2.gravatar.com/avatar/80cdc027b38e04eac11911de22346b2f?s=140&d=identicon&r=g" alt="img">            Nanfeng Liu says:        </p>
<p><a href="http://blog.rtwilson.com/can-i-atmospherically-correct-my-images-with-py6s/#comment-233050" target="_blank" rel="noopener">             November 20, 2018 at 7:11 pm                </a>                         </p>
<p>Hi Robin,<br>I have one question about the 6S code.<br>In the 6SV1.0Beta version (<a href="http://6s.ltdri.org/" target="_blank" rel="noopener">http://6s.ltdri.org/</a>), there are two main functions: mainlut.f and mainlutaero.f. And we can compile them into .exe files (see Makefile).<br>Are they supposed to build up some LUTs?<br>Do you have any idea about the inputs into these two functions? Thanks.</p>
</li>
<li><p><img src="http://2.gravatar.com/avatar/b5315e9d0420a5546727a9f4f04010b6?s=140&d=identicon&r=g" alt="img">            <a href="http://www.rtwilson.com/" target="_blank" rel="noopener">Robin Wilson</a> says:        </p>
<p><a href="http://blog.rtwilson.com/can-i-atmospherically-correct-my-images-with-py6s/#comment-233762" target="_blank" rel="noopener">             November 25, 2018 at 7:47 pm                </a>                         </p>
<p>Hi,</p>
<p>Sorry, I have no idea about either of those main functions. I suggest you contact the 6S authors directly.</p>
<p>Robin</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/06/26/Py6SforAtmosCorrect/" data-id="ckdob4puy000c3wv04llx8dpb" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/windows/">windows</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDL/" rel="tag">IDL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDL-ENVI/" rel="tag">IDL ENVI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hdf5/" rel="tag">hdf5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java-%E5%8F%8D%E7%BC%96%E8%AF%91/" rel="tag">java 反编译</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%C2%B7%E5%8F%8D%E7%BC%96%E8%AF%91/" rel="tag">java·反编译</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E5%8F%8D%E7%BC%96%E8%AF%91/" rel="tag">java反编译</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jupyter/" rel="tag">jupyter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ms2gt/" rel="tag">ms2gt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/IDL/" style="font-size: 10px;">IDL</a> <a href="/tags/IDL-ENVI/" style="font-size: 10px;">IDL ENVI</a> <a href="/tags/hdf5/" style="font-size: 10px;">hdf5</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/java-%E5%8F%8D%E7%BC%96%E8%AF%91/" style="font-size: 10px;">java 反编译</a> <a href="/tags/java%C2%B7%E5%8F%8D%E7%BC%96%E8%AF%91/" style="font-size: 10px;">java·反编译</a> <a href="/tags/java%E5%8F%8D%E7%BC%96%E8%AF%91/" style="font-size: 10px;">java反编译</a> <a href="/tags/jupyter/" style="font-size: 10px;">jupyter</a> <a href="/tags/ms2gt/" style="font-size: 15px;">ms2gt</a> <a href="/tags/python/" style="font-size: 20px;">python</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/04/09/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2019/11/25/%E4%B8%80%E4%BA%9Bpython%E6%A8%A1%E5%9D%97/">一些python模块</a>
          </li>
        
          <li>
            <a href="/2019/11/25/WSL-ubuntu%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE/">WSL ubuntu系统设置</a>
          </li>
        
          <li>
            <a href="/2019/11/22/opencv/">opencv</a>
          </li>
        
          <li>
            <a href="/2019/07/05/Using%20GDAL%20with%20Python%20a%20basic%20introduction/">Using GDAL with Python</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>